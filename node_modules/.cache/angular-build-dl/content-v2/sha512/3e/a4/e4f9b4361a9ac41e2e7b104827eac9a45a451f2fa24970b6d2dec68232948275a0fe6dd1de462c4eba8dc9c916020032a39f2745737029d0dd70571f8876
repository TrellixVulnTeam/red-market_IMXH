{"version":3,"sources":["./src/app/pages/chat-detail/chat-detail.page.ts","./src/app/pages/chat-detail/chat-detail.page.html","./src/app/pages/chat-detail/chat-detail-routing.module.ts","./src/app/pages/chat-detail/chat-detail.module.ts"],"names":[],"mappings":"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","file":"default~chat-detail-chat-detail-module~pages-chat-detail-chat-detail-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { ChatService } from './chat-service';\nimport { forkJoin } from 'rxjs';\nimport { from } from 'rxjs/internal/observable/from';\nimport firebase from 'firebase';\n\n@Component({\n  selector: 'app-chat-detail',\n  templateUrl: './chat-detail.page.html',\n  styleUrls: ['./chat-detail.page.scss'],\n})\nexport class ChatDetailPage implements OnInit {\n\n  msgList: any[];\n  chat:Observable<any>;\n  rangeForm: FormGroup;\n  searchQuery: string;\n  msgForm : FormGroup;\n  currentUser = null;\n  item =null;\n  chatid = null;\n  showAgeFilter = false;\n  optionItems = [ {active:false},];\n  constructor(\n    private chatService : ChatService,\n    private router :Router,\n    private route :ActivatedRoute,\n    private fb:FormBuilder,\n    private afAuth: AngularFireAuth,\n  ) { }\n\n   ngOnInit() {\n    this.item = new Object();\n    this.item.price = this.route.snapshot.paramMap.get('price');\n    this.item.img = this.route.snapshot.paramMap.get('itemImg');\n    this.item.id = this.route.snapshot.paramMap.get('id');\n    this.item.saler = this.route.snapshot.paramMap.get('saler');\n    this.chatid = this.route.snapshot.paramMap.get('chatId');\n    \n    console.log('item from router +++++++ '+JSON.stringify(this.item));\n    this.msgForm = this.fb.group({\n      'txtMsg': [\"\", Validators.required],\n    });\n    this.chatService.getCurrentUser().subscribe(user=>{\n      console.log('CURRRRRRENT USER ************'+JSON.stringify( user))\n      this.currentUser = user;\n       this.chatService.getMsgs(this.item,user.uid).subscribe(result=>{\n         this.msgList = result[0]['msgs'];\n         console.log('MSG LIST '+JSON.stringify(this.msgList));\n       });\n    });\n\n  }\n\n\n\n  addMsg() {\n    console.log(\"submited form \");\n    this.chatService.sendMsg( this.item, this.msgForm.value,this.item.saler,this.currentUser ,this.chatid);\n    this.msgForm.reset();\n    //this.resize();\n    //this.scrollToBottomOnInit();\n  }\n\n\n  toggleClass(item){\n    item.active = !item.active;\n  }\n}\n","<ion-header [translucent]=\"true\" class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"/redmarket/chat\" mode=\"md\">\n      </ion-back-button>\n    </ion-buttons>\n    <ion-title >Messages</ion-title>\n  </ion-toolbar>\n<ion-toolbar>\n  <ion-row>\n    <ion-col class=\"ion-img-col\">\n      <ion-avatar>\n        <img\n          src=\"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y\"\n        />\n      </ion-avatar>\n    </ion-col>\n    <ion-col size=\"6\">\n      <div class=\"profile\">\n        <div>\n          <h4>Kedirosa Moha</h4>\n        </div>\n        <div class=\"joined\">Joind Mar 2020</div>\n        <div class=\"address\">Richardson TX</div>\n        <div class=\"rating\">* * * * *</div>\n      </div>\n    </ion-col>\n    <ion-col class=\"ion-img-col\">\n      <ion-avatar>\n        <img\n          [src]=\"item?.img\"\n        />\n      </ion-avatar>\n\t  <p>$ {{item?.price}}</p>\n    </ion-col>\n  </ion-row>\n</ion-toolbar>\n</ion-header>\n\n<ion-content fullscreen>\n\n\t<div class=\"chat-list\">\n\t<div class=\"chat_container d-flex\"*ngFor=\"let msg of msgList\" >\n\t\t<!-- <div class=\"chat_box d-flex received\">\n\t\t\t<div class=\"chat\">\n                <h2><span>Hey Samanth !</span></h2>\n\t\t\t\t<p>11:48 am</p>\n\t\t\t</div>\n\t\t</div> -->\n\t\t<div class=\"chat_box d-flex send\" *ngIf=\"msg?.sender==currentUser.uid\">\n\t\t\t<div class=\"chat\">\n                <h2><span>{{msg?.txt}}</span></h2>\n\t\t\t\t<p>{{msg?.created?.seconds *1000 | amTimeAgo}} <ion-icon name=\"checkmark-done-outline\"></ion-icon>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"chat_box d-flex received\" *ngIf=\"msg?.sender!=currentUser.uid\">\n\t\t\t<div class=\"chat\">\n                <h2><span>{{msg?.txt}}</span></h2>\n\t\t\t\t<p>{{msg?.created?.seconds *1000 | amTimeAgo}}</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- <div class=\"chat_box d-flex send\">\n\t\t\t<div class=\"chat\">\n\t\t\t\t<h2>Sure ,just a second </h2>\n\t\t\t\t<p>11:49 am <ion-icon name=\"checkmark-done-outline\"></ion-icon>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"chat_box d-flex send\">\n\t\t\t<div class=\"chat\">\n          <h2>is the item still available ?\n            I want to offer you $200 </h2>\n\t\n\t\t\t\t<p>11:49 am <ion-icon name=\"checkmark-done-outline\"></ion-icon>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div> -->\n\t</div>\n</div>\n</ion-content>\n\n \n<ion-footer *ngFor=\"let item of optionItems\" [ngClass]=\"{'active': item.active}\">\n    <ion-toolbar>\n\t\t<form [formGroup]=\"msgForm\">\n\t<div class=\"form\">\n\t\t<ion-list lines=\"none\" class=\"d-flex\">\n      <ion-icon name=\"add-circle-outline\" (click)=\"toggleClass(item)\"></ion-icon>\n\t\t\t<ion-item lines=\"none\">\n\t\t\t\t<ion-textarea formControlName=\"txtMsg\" type=\"text\" placeholder=\"Type your message\"></ion-textarea>\n\t\t\t</ion-item>\n\t\t\t<h3 class=\"end\">\n        <ion-button (click)=\"addMsg()\"fill=\"clear\"> <ion-icon slot=\"icon-only\" name=\"send-outline\"></ion-icon></ion-button>\n\t\t\t</h3>\n\t\t</ion-list>\n\t</div>\n</form>\n\t<div class=\"option\">\n\t\t<ion-row>\n\t\t\t<ion-col size=\"3\">\n\t\t\t\t<ion-icon name=\"camera-outline\" color=\"primary\"></ion-icon>\n\t\t\t\t<h6 class=\"ion-text-center\">Camera</h6>\n\t\t\t</ion-col>\n\t\t\t<ion-col size=\"3\">\n        <ion-icon name=\"images-outline\" color=\"primary\"></ion-icon>\n\t\t\t\t<h6 class=\"ion-text-center\">Gallery</h6>\n\t\t\t</ion-col>\n\t\t\t<ion-col size=\"3\">\n        <ion-icon name=\"person-outline\" color=\"primary\"></ion-icon>\n\t\t\t\t<h6 class=\"ion-text-center\">Contact</h6>\n\t\t\t</ion-col>\n\t\t\t<ion-col size=\"3\">\n\t\t\t\t<ion-icon name=\"location-outline\" color=\"primary\"></ion-icon>\n\t\t\t\t<h6 class=\"ion-text-center\">Location</h6>\n\t\t\t</ion-col>\n\t\t\t<ion-col size=\"3\">\n        <ion-icon name=\"document-text-outline\" color=\"primary\"></ion-icon>\n\t\t\t\t<h6 class=\"ion-text-center\">Document</h6>\n\t\t\t</ion-col>\n\t\t</ion-row>\n\t</div>\n</ion-toolbar>\n</ion-footer> \n\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatDetailPage } from './chat-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatDetailPageRoutingModule } from './chat-detail-routing.module';\nimport { MomentModule } from 'ngx-moment';\nimport { ChatDetailPage } from './chat-detail.page';\nimport { ItemService } from '../../Services/account/item-service';\nimport { ChatService } from './chat-service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    ChatDetailPageRoutingModule,\n    MomentModule.forRoot({\n      relativeTimeThresholdOptions: {\n        'm': 59\n      }\n    }),\n  ],\n  declarations: [ChatDetailPage],\n  providers:[ItemService,ChatService]\n})\nexport class ChatDetailPageModule {}\n"],"sourceRoot":"webpack:///"}