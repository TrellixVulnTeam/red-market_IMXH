{"version":3,"sources":["webpack:///node_modules/@angular/fire/__ivy_ngcc__/fesm2015/angular-fire-auth-guard.js","webpack:///src/app/firebase/auth/profile/firebase-profile.page.ts","webpack:///src/app/firebase/auth/profile/firebase-profile.page.html","webpack:///src/app/firebase/auth/profile/firebase-profile.resolver.ts","webpack:///src/app/utils/resolver-helper.ts","webpack:///src/app/firebase/auth/profile/firebase-profile.module.ts"],"names":["ɵ0","user","loggedIn","AngularFireAuthGuard","router","auth","canActivate","next","state","authPipeFactory","data","authGuardPipe","pipe","can","Array","isArray","createUrlTree","parseUrl","ɵfac","AngularFireAuthGuard_Factory","t","ctorParameters","type","ɵprov","factory","token","providedIn","ngDevMode","args","ɵ1","isAnonymous","isNotAnonymous","ɵ2","getIdTokenResult","idTokenResult","ɵ3","emailVerified","ɵ4","claims","customClaims","hasCustomClaim","claim","hasOwnProperty","redirectUnauthorizedTo","redirect","redirectLoggedInTo","AngularFireAuthGuardModule","ɵmod","ɵinj","AngularFireAuthGuardModule_Factory","providers","FirebaseProfilePage","route","authService","isShell","subscriptions","resolvedRouteData","extractData","subscribe","error","console","log","signOut","navigate","replaceUrl","unsubscribe","FirebaseProfileResolver","firebaseAuthService","dataSource","getProfileDataSource","dataStore","getProfileStore","ResolverHelper","source","constructor","redirectUnauthorizedToLogin","routes","path","component","resolve","FirebaseProfilePageModule","forChild"],"mappings":"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","file":"profile-firebase-profile-module-es5.js","sourcesContent":["import { Injectable, ɵɵdefineInjectable, ɵɵinject, NgModule } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { of, pipe } from 'rxjs';\nimport { map, take, switchMap } from 'rxjs/operators';\nimport { AngularFireAuth } from '@angular/fire/auth';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: auth-guard.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/router';\nimport * as ɵngcc2 from '@angular/fire/auth';\nconst ɵ0 = /**\n * @param {?} user\n * @return {?}\n */\nuser => !!user;\n/** @type {?} */\nconst loggedIn = map((ɵ0));\nclass AngularFireAuthGuard {\n    /**\n     * @param {?} router\n     * @param {?} auth\n     */\n    constructor(router, auth) {\n        this.router = router;\n        this.auth = auth;\n        this.canActivate = (/**\n         * @param {?} next\n         * @param {?} state\n         * @return {?}\n         */\n        (next, state) => {\n            /** @type {?} */\n            const authPipeFactory = (/** @type {?} */ (next.data.authGuardPipe)) || ((/**\n             * @return {?}\n             */\n            () => loggedIn));\n            return this.auth.user.pipe(take(1), authPipeFactory(next, state), map((/**\n             * @param {?} can\n             * @return {?}\n             */\n            can => {\n                if (typeof can === 'boolean') {\n                    return can;\n                }\n                else if (Array.isArray(can)) {\n                    return this.router.createUrlTree(can);\n                }\n                else {\n                    // TODO(EdricChan03): Add tests\n                    return this.router.parseUrl(can);\n                }\n            })));\n        });\n    }\n}\nAngularFireAuthGuard.ɵfac = function AngularFireAuthGuard_Factory(t) { return new (t || AngularFireAuthGuard)(ɵngcc0.ɵɵinject(ɵngcc1.Router), ɵngcc0.ɵɵinject(ɵngcc2.AngularFireAuth)); };\n/** @nocollapse */\nAngularFireAuthGuard.ctorParameters = () => [\n    { type: Router },\n    { type: AngularFireAuth }\n];\n/** @nocollapse */ AngularFireAuthGuard.ɵprov = ɵɵdefineInjectable({ factory: function AngularFireAuthGuard_Factory() { return new AngularFireAuthGuard(ɵɵinject(Router), ɵɵinject(AngularFireAuth)); }, token: AngularFireAuthGuard, providedIn: \"any\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AngularFireAuthGuard, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'any'\n            }]\n    }], function () { return [{ type: ɵngcc1.Router }, { type: ɵngcc2.AngularFireAuth }]; }, null); })();\nif (false) {\n    /** @type {?} */\n    AngularFireAuthGuard.prototype.canActivate;\n    /**\n     * @type {?}\n     * @private\n     */\n    AngularFireAuthGuard.prototype.router;\n    /**\n     * @type {?}\n     * @private\n     */\n    AngularFireAuthGuard.prototype.auth;\n}\n/** @type {?} */\nconst canActivate = (/**\n * @param {?} pipe\n * @return {?}\n */\n(pipe) => ({\n    canActivate: [AngularFireAuthGuard], data: { authGuardPipe: pipe }\n}));\nconst ɵ1 = /**\n * @param {?} user\n * @return {?}\n */\nuser => !!user && !user.isAnonymous;\n/** @type {?} */\nconst isNotAnonymous = map((ɵ1));\nconst ɵ2 = /**\n * @param {?} user\n * @return {?}\n */\n(user) => user ? user.getIdTokenResult() : of(null);\n/** @type {?} */\nconst idTokenResult = switchMap((ɵ2));\nconst ɵ3 = /**\n * @param {?} user\n * @return {?}\n */\nuser => !!user && user.emailVerified;\n/** @type {?} */\nconst emailVerified = map((ɵ3));\nconst ɵ4 = /**\n * @param {?} idTokenResult\n * @return {?}\n */\nidTokenResult => idTokenResult ? idTokenResult.claims : [];\n/** @type {?} */\nconst customClaims = pipe(idTokenResult, map((ɵ4)));\n/** @type {?} */\nconst hasCustomClaim = (/**\n * @param {?} claim\n * @return {?}\n */\n(claim) => pipe(customClaims, map((/**\n * @param {?} claims\n * @return {?}\n */\nclaims => claims.hasOwnProperty(claim)))));\n/** @type {?} */\nconst redirectUnauthorizedTo = (/**\n * @param {?} redirect\n * @return {?}\n */\n(redirect) => pipe(loggedIn, map((/**\n * @param {?} loggedIn\n * @return {?}\n */\nloggedIn => loggedIn || redirect))));\n/** @type {?} */\nconst redirectLoggedInTo = (/**\n * @param {?} redirect\n * @return {?}\n */\n(redirect) => pipe(loggedIn, map((/**\n * @param {?} loggedIn\n * @return {?}\n */\nloggedIn => loggedIn && redirect || true))));\n\n/**\n * @fileoverview added by tsickle\n * Generated from: auth-guard.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass AngularFireAuthGuardModule {\n}\nAngularFireAuthGuardModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: AngularFireAuthGuardModule });\nAngularFireAuthGuardModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function AngularFireAuthGuardModule_Factory(t) { return new (t || AngularFireAuthGuardModule)(); }, providers: [AngularFireAuthGuard] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AngularFireAuthGuardModule, [{\n        type: NgModule,\n        args: [{\n                providers: [AngularFireAuthGuard]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public_api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: angular-fire-auth-guard.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { AngularFireAuthGuard, AngularFireAuthGuardModule, canActivate, customClaims, emailVerified, hasCustomClaim, idTokenResult, isNotAnonymous, loggedIn, redirectLoggedInTo, redirectUnauthorizedTo };\n\n//# sourceMappingURL=angular-fire-auth-guard.js.map","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FirebaseProfileModel } from './firebase-profile.model';\nimport { FirebaseAuthService } from '../firebase-auth.service';\nimport { Subscription } from 'rxjs';\nimport { IResolvedRouteData, ResolverHelper } from '../../../utils/resolver-helper';\nimport { switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-firebase-profile',\n  templateUrl: './firebase-profile.page.html',\n  styleUrls: [\n    './styles/firebase-profile.page.scss',\n    './styles/firebase-profile.shell.scss'\n  ]\n})\nexport class FirebaseProfilePage implements OnInit {\n  // Gather all component subscription in one place. Can be one Subscription or multiple (chained using the Subscription.add() method)\n  subscriptions: Subscription;\n  user: FirebaseProfileModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.user && this.user.isShell) ? true : false;\n  }\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    public authService: FirebaseAuthService\n  ) {}\n\n  ngOnInit() {\n\n    this.subscriptions = this.route.data\n    .pipe(\n      // Extract data for this page\n      switchMap((resolvedRouteData: IResolvedRouteData<FirebaseProfileModel>) => {\n        return ResolverHelper.extractData<FirebaseProfileModel>(resolvedRouteData.data, FirebaseProfileModel);\n      })\n    )\n    .subscribe((state) => {\n      this.user = state;\n    }, (error) => console.log(error));\n  }\n\n  signOut() {\n    this.authService.signOut().subscribe(() => {\n      // Sign-out successful.\n      // Replace state as we are no longer authorized to access profile page.\n      this.router.navigate(['firebase/auth/sign-in'], { replaceUrl: true });\n    }, (error) => {\n      console.log('signout error', error);\n    });\n  }\n\n  // NOTE: Ionic only calls ngOnDestroy if the page was popped (ex: when navigating back)\n  // Since ngOnDestroy might not fire when you navigate from the current page, use ionViewWillLeave to cleanup Subscriptions\n  ionViewWillLeave(): void {\n    this.subscriptions.unsubscribe();\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"app/categories\"></ion-back-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"user-content\">\n  <ion-row>\n    <ion-col class=\"ion-no-padding\">\n      <app-image-shell class=\"user-image add-overlay\" [display]=\"'cover'\" animation=\"spinner\" [src]=\"user?.image\" [alt]=\"'item image'\">\n        <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\n        </app-aspect-ratio>\n      </app-image-shell>\n    </ion-col>\n  </ion-row>\n\n  <ion-row class=\"user-details\">\n    <ion-col class=\"ion-no-padding details-wrapper\">\n      <h2 class=\"user-name\">\n        <app-text-shell [data]=\"user?.name\"></app-text-shell>\n        <ion-icon name=\"checkmark-circle\" color=\"bright-pink\"></ion-icon>\n      </h2>\n      <span class=\"user-role\">\n        <app-text-shell [data]=\"user?.role\"></app-text-shell>\n      </span>\n      <p class=\"user-description\">\n        <app-text-shell lines=\"3\" [data]=\"user?.description\"></app-text-shell>\n      </p>\n    </ion-col>\n  </ion-row>\n\n  <ion-row class=\"user-preferences-wrapper\">\n    <ion-col size=\"12\">\n      <h4 class=\"preference-name\">Mobile</h4>\n      <p class=\"preference-value\">\n        <app-text-shell [data]=\"user?.phoneNumber\"></app-text-shell>\n      </p>\n    </ion-col>\n    <ion-col size=\"12\">\n      <h4 class=\"preference-name\">Email</h4>\n      <p class=\"preference-value\">\n        <app-text-shell [data]=\"user?.email\"></app-text-shell>\n      </p>\n    </ion-col>\n    <ion-col size=\"12\">\n      <h4 class=\"preference-name\">Auth Provider</h4>\n      <p class=\"preference-value\">\n        <app-text-shell [data]=\"user?.provider\"></app-text-shell>\n      </p>\n    </ion-col>\n    <ion-col size=\"12\">\n      <ion-button class=\"sign-out-btn\" expand=\"block\" fill=\"outline\" color=\"bright-blue\" (click)=\"signOut()\">Sign out</ion-button>\n    </ion-col>\n  </ion-row>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { FirebaseAuthService } from '../firebase-auth.service';\nimport { Observable } from 'rxjs';\nimport { DataStore } from '../../../shell/data-store';\nimport { FirebaseProfileModel } from './firebase-profile.model';\n\n@Injectable()\nexport class FirebaseProfileResolver implements Resolve<any> {\n\n  constructor(private firebaseAuthService: FirebaseAuthService) {}\n\n  resolve() {\n    const dataSource: Observable<FirebaseProfileModel> = this.firebaseAuthService.getProfileDataSource();\n    const dataStore: DataStore<FirebaseProfileModel> = this.firebaseAuthService.getProfileStore(dataSource);\n    return dataStore;\n  }\n}\n","import { DataStore } from '../shell/data-store';\nimport { Observable, of } from 'rxjs';\n\nexport interface IResolvedRouteData<T> {\n  data: T | DataStore<T>;\n}\n\nexport class ResolverHelper<T> {\n  // More info on function overloads here: https://www.typescriptlang.org/docs/handbook/functions.html#overloads\n  public static extractData<T>(source: (T | DataStore<T>), constructor: (new(...args: any[]) => T)): Observable<T> {\n    if (source instanceof DataStore) {\n      return source.state;\n    } else if (source instanceof constructor) {\n      // The right side of instanceof should be an expression evaluating to a constructor function (ie. a class), not a type\n      // That's why we included an extra parameter which acts as a constructor function for type T\n      // (see: https://github.com/microsoft/TypeScript/issues/5236)\n      return of(source);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { FirebaseProfilePage } from './firebase-profile.page';\nimport { FirebaseProfileResolver } from './firebase-profile.resolver';\nimport { AngularFireAuthGuard, redirectUnauthorizedTo } from '@angular/fire/auth-guard';\n\nconst redirectUnauthorizedToLogin = () => redirectUnauthorizedTo(['/firebase/auth/sign-in']);\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FirebaseProfilePage,\n    canActivate: [AngularFireAuthGuard],\n    data: { authGuardPipe: redirectUnauthorizedToLogin },\n    resolve: {\n      data: FirebaseProfileResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [\n    FirebaseProfilePage\n  ],\n  providers: [\n    FirebaseProfileResolver\n  ]\n})\nexport class FirebaseProfilePageModule {}\n"]}